<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∏–∞–ª–æ–≥–æ–≤–∞—è –°—Ü–µ–Ω–∞ —Å –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –û—à–∏–±–æ–∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 100%;
            max-width: 900px;
            padding: 1rem;
        }
        .speaker-box {
            transition: all 0.3s ease;
            filter: grayscale(80%) opacity(50%); /* –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π –≤–∏–¥ */
            transform: scale(0.98);
            border-bottom: 4px solid transparent;
        }
        .speaker-active {
            filter: grayscale(0%) opacity(100%); /* –ê–∫—Ç–∏–≤–Ω—ã–π –≤–∏–¥ */
            transform: scale(1);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            border-bottom: 4px solid;
        }
        .sprite {
            height: 120px;
            width: 120px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            margin-bottom: 0.5rem;
        }
        .dialogue-text {
            min-height: 80px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
        }
    </style>
</head>
<body>

    <div id="app" class="container">
        <!-- –§–æ–Ω —Å—Ü–µ–Ω—ã -->
        <div class="bg-gray-800 p-6 rounded-xl shadow-2xl relative">

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–ø—Ä–∞–π—Ç–æ–≤/–∏–∫–æ–Ω–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π -->
            <div class="flex justify-around items-end mb-4 h-48">

                <!-- –°–ø—Ä–∞–π—Ç –ö–∏–∞–Ω—ã -->
                <div id="speaker-kiana" class="speaker-box p-3 rounded-t-xl transition-all border-yellow-400">
                    <div class="sprite bg-yellow-600 border-4 border-yellow-400">‚ú®</div>
                    <p class="text-white text-center font-bold text-lg">–ö–∏–∞–Ω–∞</p>
                </div>

                <!-- –°–ø—Ä–∞–π—Ç –ó–∞—Ä–∞–∂—ë–Ω–Ω–æ–π –ú—ç–π -->
                <div id="speaker-mei" class="speaker-box p-3 rounded-t-xl transition-all border-red-500">
                    <div class="sprite bg-red-800 border-4 border-red-500">üî™</div>
                    <p class="text-white text-center font-bold text-lg">–ó–∞—Ä–∞–∂—ë–Ω–Ω–∞—è –ú—ç–π</p>
                </div>

            </div>
            
            <!-- –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ -->
            <div class="bg-gray-900/90 p-5 rounded-xl border-t-4 border-white shadow-xl">
                <p id="speaker-name" class="text-2xl font-extrabold text-white mb-2 uppercase"></p>
                <p id="dialogue-text" class="dialogue-text text-gray-200 text-xl font-medium"></p>
                <button id="next-button" class="mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    –î–∞–ª–µ–µ (–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ Tap)
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –°—Ü–µ–Ω—ã –∏ –î–∞–Ω–Ω—ã–µ –î–∏–∞–ª–æ–≥–∞ ---
        
        // –î–∏–∞–ª–æ–≥ (–ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤)
        const dialogue = [
            // –ü–ï–†–í–û–ï –ü–û–Ø–í–õ–ï–ù–ò–ï –ó–ê–†–ê–ñ–ï–ù–ù–û–ô –ú–≠–ô (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞: —Ç–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–Ω–∞ –ú—ç–π, –∞ –Ω–µ –ö–∏–∞–Ω–∞)
            { speaker: '–ú–µ–∏', text: '...–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é, –ö–∏–∞–Ω–∞. –¢—ã –≤—ã–≥–ª—è–¥–∏—à—å –Ω–µ–º–Ω–æ–≥–æ —É–¥–∏–≤–ª–µ–Ω–Ω–æ–π.' },
            
            // –ó–∞—Ä–∞–∂—ë–Ω–Ω–∞—è –ú—ç–π –∞–∫—Ç–∏–≤–Ω–∞ (–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–≥–∞: –ö–∏–∞–Ω–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–π)
            { speaker: '–ú–µ–∏', text: '–ú—ã, –Ω–∞–∫–æ–Ω–µ—Ü, –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å —Å–Ω–æ–≤–∞. –î–æ–ª–∂–Ω–∞ –ø—Ä–∏–∑–Ω–∞—Ç—å, —è —Å–∫—É—á–∞–ª–∞ –ø–æ —ç—Ç–∏–º –Ω–∞—à–∏–º –º–∞–ª–µ–Ω—å–∫–∏–º –∏–≥—Ä–∞–º.' },
            
            // –ö–∏–∞–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç (–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥–æ–≤–æ—Ä—è—â–µ–≥–æ)
            { speaker: '–ö–∏–∞–Ω–∞', text: '–ú—ç–π... –≠—Ç–æ —Ç—ã? –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ? –ü–æ—á–µ–º—É —Ç—ã –≤—ã–≥–ª—è–¥–∏—à—å... —Ç–∞–∫?' },
            
            // –ó–∞—Ä–∞–∂—ë–Ω–Ω–∞—è –ú—ç–π —Å–Ω–æ–≤–∞ –≥–æ–≤–æ—Ä–∏—Ç (–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–≥–∞: –ö–∏–∞–Ω–∞ —Å–Ω–æ–≤–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–π)
            { speaker: '–ú–µ–∏', text: '–ü—Ä–æ–∏–∑–æ—à–ª–æ –ª–∏—à—å —Ç–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏. –Ø –ø—Ä–∏–Ω—è–ª–∞ —Å–≤–æ—é –∏—Å—Ç–∏–Ω–Ω—É—é —Å–∏–ª—É.' },
            
            // –ö–∏–∞–Ω–∞ –≤ —è—Ä–æ—Å—Ç–∏
            { speaker: '–ö–∏–∞–Ω–∞', text: '–ù–µ—Ç! –¢—ã –Ω–µ –º–æ—è –ú—ç–π! –Ø –≤–µ—Ä–Ω—É —Ç–µ–±—è, —á–µ–≥–æ –±—ã —ç—Ç–æ –Ω–∏ —Å—Ç–æ–∏–ª–æ!' },
            
            // –ö–æ–Ω–µ—Ü
            { speaker: 'System', text: '–ö–æ–Ω–µ—Ü –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.' }
        ];

        // –¶–≤–µ—Ç–∞ –∏ —Å–ø—Ä–∞–π—Ç—ã –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
        const CHARACTERS = {
            '–ö–∏–∞–Ω–∞': { 
                color: 'text-yellow-400', 
                boxBorder: 'border-yellow-400',
                spriteElement: document.getElementById('speaker-kiana'),
                nameElement: '–ö–∏–∞–Ω–∞'
            },
            '–ú–µ–∏': { 
                color: 'text-red-500', 
                boxBorder: 'border-red-500',
                spriteElement: document.getElementById('speaker-mei'),
                nameElement: '–ó–∞—Ä–∞–∂—ë–Ω–Ω–∞—è –ú—ç–π'
            },
            'System': { // –î–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
                color: 'text-white', 
                boxBorder: 'border-white',
                spriteElement: null,
                nameElement: '–°–ò–°–¢–ï–ú–ê'
            }
        };

        // --- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ–º –ò–≥—Ä—ã ---
        let currentSceneIndex = 0;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const dialogueTextEl = document.getElementById('dialogue-text');
        const speakerNameEl = document.getElementById('speaker-name');
        const nextButton = document.getElementById('next-button');

        // --- –û—Å–Ω–æ–≤–Ω–∞—è –õ–æ–≥–∏–∫–∞ –î–∏–∞–ª–æ–≥–∞ ---

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥–æ–≤–æ—Ä—è—â–µ–≥–æ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–µ–ø–ª–∏–∫—É.
         * –ì–ª–∞–≤–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞: –∑–¥–µ—Å—å –º—ã —è–≤–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ—Ö –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
         */
        function displayDialogue() {
            if (currentSceneIndex >= dialogue.length) {
                // –î–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω
                nextButton.disabled = true;
                nextButton.textContent = '–î–∏–∞–ª–æ–≥ –ó–∞–≤–µ—Ä—à–µ–Ω';
                speakerNameEl.textContent = '–°—Ü–µ–Ω–∞—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω';
                return;
            }

            const currentLine = dialogue[currentSceneIndex];
            const speakerKey = currentLine.speaker;
            const charData = CHARACTERS[speakerKey];

            // 1. –°–±—Ä–æ—Å –≤—Å–µ—Ö —Å—Ç–∏–ª–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
            Object.values(CHARACTERS).forEach(char => {
                if (char.spriteElement) {
                    char.spriteElement.classList.remove('speaker-active', char.boxBorder);
                }
            });

            // 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–º–µ–Ω–∏ –≥–æ–≤–æ—Ä—è—â–µ–≥–æ
            dialogueTextEl.textContent = currentLine.text;
            speakerNameEl.textContent = charData.nameElement;
            speakerNameEl.className = `text-2xl font-extrabold mb-2 uppercase ${charData.color}`;
            
            // 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–ø—Ä–∞–π—Ç–∞ (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å–æ —Å–ø—Ä–∞–π—Ç–æ–º –ö–∏–∞–Ω—ã –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –ú—ç–π)
            if (charData.spriteElement) {
                charData.spriteElement.classList.add('speaker-active', charData.boxBorder);
            }

            currentSceneIndex++;
        }

        /**
         * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ".
         */
        function setupListeners() {
            nextButton.addEventListener('click', () => {
                displayDialogue();
            });
        }

        // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ---
        window.onload = function() {
            // –ó–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            displayDialogue(); 
            setupListeners();
        };

    </script>
</body>
</html>
